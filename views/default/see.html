<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
    <meta name="author" content="GeeksLabs">
    <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>Total Entertainment</title>
    <link href="{{=URL('static','css/bootstrap.min.css')}}" rel="stylesheet">
    <!-- bootstrap theme -->
    <link href="{{=URL('static','css/bootstrap-theme.css')}}" rel="stylesheet">
    <!--external css-->
    <!-- font icon -->
    <link href="{{=URL('static','css/elegant-icons-style.css')}}" rel="stylesheet" />
    <link href="{{=URL('static','css/font-awesome.min.css')}}" rel="stylesheet" />
            <script type="text/javascript" src="{{=URL('static','js/jquery-1.9.1.min.js')}}"></script>

    <!-- owl carousel -->
   <!-- <link rel="stylesheet" href="{{=URL('static','css/owl.carousel.css')}}" type="text/css">-->
  <link href="{{=URL('static','css/jquery-jvectormap-1.2.2.css')}}" rel="stylesheet">
    <!-- Custom styles -->
  <link rel="stylesheet" href="{{=URL('static','css/fullcalendar.css')}}">
  <link href="{{=URL('static','css/widgets.css')}}" rel="stylesheet">
    <link href="{{=URL('static','css/style.css')}}" rel="stylesheet">
    <link href="{{=URL('static','css/style-responsive.css')}}" rel="stylesheet" />
  <link href="{{=URL('static','css/xcharts.min.css')}}" rel=" stylesheet">  
  <link href="{{=URL('static','css/jquery-ui-1.10.4.min.css')}}" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="{{=URL('static','css/bootstrap-select.css')}}">
    <script type="text/javascript" src="{{=URL('static','js/jquery-1.9.1.min.js')}}"></script>
    <script type="text/javascript" src="{{=URL('static','js/jssor.slider.mini.js')}}"></script>
    <script type="text/javascript" src="{{=URL('static','js/web2py.js')}}"></script>
        <script type="text/javascript" src="{{=URL('static','js/bootstrap-select.js')}}"></script>
 


<head>
  <style type="text/css">
    .rating {
    float:left;
}

/* :not(:checked) is a filter, so that browsers that don’t support :checked don’t 
   follow these rules. Every browser that supports :checked also supports :not(), so
   it doesn’t make the test unnecessarily selective */
.rating:not(:checked) > input {
    position:absolute;
    top:-9999px;
    clip:rect(0,0,0,0);
}

.rating:not(:checked) > label {
    float:right;
    width:1.172em;
    padding:0 .1em;
    overflow:hidden;
    white-space:nowrap;
    cursor:pointer;
    font-size:200%;
    line-height:1.2;
    color:#ddd;
    text-shadow:1px 1px #bbb, 2px 2px #666, .1em .1em .2em rgba(0,0,0,.5);
}

.rating:not(:checked) > label:before {
    content: "\2605";
}

.rating > input:checked ~ label {
    color: #f70;
    text-shadow:1px 1px #c60, 2px 2px #940, .1em .1em .2em rgba(0,0,0,.5);
}

.rating:not(:checked) > label:hover,
.rating:not(:checked) > label:hover ~ label {
    color: gold;
    text-shadow:1px 1px goldenrod, 2px 2px #B57340, .1em .1em .2em rgba(0,0,0,.5);
}

.rating > input:checked + label:hover,
.rating > input:checked + label:hover ~ label,
.rating > input:checked ~ label:hover,
.rating > input:checked ~ label:hover ~ label,
.rating > label:hover ~ input:checked ~ label {
    color: #ea0;
    text-shadow:1px 1px goldenrod, 2px 2px #B57340, .1em .1em .2em rgba(0,0,0,.5);
}

.rating > label:active {
    position:relative;
    top:2px;
    left:2px;
}
  </style>




  </head>

  <body>
  <!-- container section start -->


    <script>
        jQuery(document).ready(function ($) {
            
            var jssor_1_options = {
              $AutoPlay: true,
              $AutoPlaySteps: 3,
              $SlideDuration: 200,
              $SlideWidth: 132,
              $SlideSpacing: 2,
              $Cols: 6,
              $ArrowNavigatorOptions: {
                $Class: $JssorArrowNavigator$,
                $Steps: 4
              },
              $BulletNavigatorOptions: {
                $Class: $JssorBulletNavigator$,
                $SpacingX: 1,
                $SpacingY: 1
              }
            };
            
            var jssor_1_slider = new $JssorSlider$("jssor_1", jssor_1_options);
            
            //responsive code begin
            //you can remove responsive code if you don't want the slider scales while window resizes
            function ScaleSlider() {
                var refSize = jssor_1_slider.$Elmt.parentNode.clientWidth;
                if (refSize) {
                    refSize = Math.min(refSize, 1300);
                    jssor_1_slider.$ScaleWidth(refSize);
                }
                else {
                    window.setTimeout(ScaleSlider, 30);
                }
            }
            ScaleSlider();
            $(window).bind("load", ScaleSlider);
            $(window).bind("resize", ScaleSlider);
            $(window).bind("orientationchange", ScaleSlider);
            //responsive code end
        });
    </script>

    <style>
        
        /* jssor slider bullet navigator skin 03 css */
        /*
        .jssorb03 div           (normal)
        .jssorb03 div:hover     (normal mouseover)
        .jssorb03 .av           (active)
        .jssorb03 .av:hover     (active mouseover)
        .jssorb03 .dn           (mousedown)
        */
        .jssorb03 {
            position: absolute;
        }
        .jssorb03 div, .jssorb03 div:hover, .jssorb03 .av {
            position: absolute;
            /* size of bullet elment */
            width: 21px;
            height: 21px;
            text-align: center;
            line-height: 21px;
            color: white;
            font-size: 12px;
            background: url({{=URL('static','img/b03.png')}}) no-repeat;
            overflow: hidden;
            cursor: pointer;
        }
        .jssorb03 div { background-position: -5px -4px; }
        .jssorb03 div:hover, .jssorb03 .av:hover { background-position: -35px -4px; }
        .jssorb03 .av { background-position: -65px -4px; }
        .jssorb03 .dn, .jssorb03 .dn:hover { background-position: -95px -4px; }

        /* jssor slider arrow navigator skin 03 css */
        /*
        .jssora03l                  (normal)
        .jssora03r                  (normal)
        .jssora03l:hover            (normal mouseover)
        .jssora03r:hover            (normal mouseover)
        .jssora03l.jssora03ldn      (mousedown)
        .jssora03r.jssora03rdn      (mousedown)
        */
        .jssora03l, .jssora03r {
            display: block;
            position: absolute;
            /* size of arrow element */
            width: 55px;
            height: 55px;
            cursor: pointer;
            background: url({{=URL('static','img/a03.png')}}) no-repeat;
            overflow: hidden;
        }
        .jssora03l { background-position: -3px -33px; }
        .jssora03r { background-position: -63px -33px; }
        .jssora03l:hover { background-position: -123px -33px; }
        .jssora03r:hover { background-position: -183px -33px; }
        .jssora03l.jssora03ldn { background-position: -243px -33px; }
        .jssora03r.jssora03rdn { background-position: -303px -33px; }
    </style>













  <section id="container" class="">
     
      
      <header class="header my-green-bg">
            <div class="toggle-nav">
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
            </div>

            <!--logo start-->
            <a href="{{=URL('index.html')}}" class="logo"><strong>total&nbsp;&nbsp;&nbsp;<span class="lite">entertainment</span></strong></a>
            <!--logo end-->

            <div class="nav search-row" id="top_menu">
                <!--  search form start -->
                <ul class="nav top-menu">                    
                    <li>
                        <form class="navbar-form" action="#" enctype="multipart/form-data" method="post">
                            <input class="form-control" placeholder="Search for your favourite Songs and Videos" type="text" name="query">

                        <select name="option" class = "selectpicker" data-style = "btn-primary" value="5">
                            <option value="V"><strong>Video</strong></option>
                            <option value="A"><strong>Audio</strong></option>
                        </select>
                            <div style="display:none;">
                              <input name="_formkey" type="hidden" value="{{=form.formkey}}" />
                              <input name="_formname" type="hidden" value="no_table/create" />
                            </div>
                        </form>
                    </li>                    
                </ul>
                <!--  search form end -->                
            </div>
            <div class="top-nav notification-row">                
                <!-- notificatoin dropdown start-->
                <ul class="nav pull-right top-menu">
                    
                    <!-- user login dropdown start-->
                    
                    <li class="dropdown">
                    {{if auth.is_logged_in():}}
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="profile-ava">
                                <img alt="{{=auth.user.first_name}}" src="{{=URL('static','images/avatar-mini2.jpg')}}">
                            </span>
                            <span class="username">Yo {{=auth.user.first_name}}&nbsp;<strong>!</strong></span>
                            <b class="caret"></b>
                        </a>

                        <ul class="dropdown-menu extended logout">
                            <div class="log-arrow-up"></div>
                            <li class="eborder-top">
                                <a href="{{=URL('default','user/register')}}"><i class="icon_profile"></i> My Profile</a>
                            </li>
                            <li>
                                <a href="{{=URL('default','favideo')}}"><i class="icon_mail_alt"></i> My Favourite</a>
                            </li>
                            <li>
                                <a href="{{=URL('default','user/logout')}}"><i class="icon_clock_alt"></i> Logout</a>
                            </li>
                        </ul>
                      {{else:}}
                      <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                          <!--  <span class="profile-ava">-->
                                <img alt="" src="{{=URL('static','images/key.png')}}">
                          <!--  </span> -->
                            <span class="username">LogIn</span>
                            <b class="caret"></b>
                        </a>
                      <ul class="dropdown-menu extended logout">
                            <div class="log-arrow-up"></div>
                            <li class="eborder-top">
                                <a href="{{=URL('user.html')}}"><i class="icon_profile"></i>Log In</a>
                            </li>
                            <li>
                                <a href="{{=URL('default','user/register')}}"><i class="icon_mail_alt"></i>Register</a>
                            </li>
                            <li>
                                <a href="{{=URL('default','user/request_reset_password')}}"><i class="icon_clock_alt"></i>Forgot Password</a>
                            </li>
                       </ul> 
                      {{pass}}
                    </li>
                    <!-- user login dropdown end -->
                </ul>
                <!-- notificatoin dropdown end-->
            </div>
      </header>      
      <!--header end-->

      <!--sidebar start-->
        <aside>
          <div id="sidebar"  class="nav-collapse ">
              <!-- sidebar menu start-->
              <ul class="sidebar-menu">                
                  <li class="active">
                      <a class="" href="{{=URL('index.html')}}">
                          <i class="icon_house_alt"></i>
                          <span>Welcome </span>
                      </a>
                  </li>
          <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i class="fa fa-heart"></i>
                          <span>Favourite</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="{{=URL('favsong.html')}}">Songs</a></li>                          
                          <li><a class="" href="{{=URL('favideo.html')}}">Videos</a></li>
                      </ul>
                  </li>       
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i class="icon_desktop"></i>
                          <span>Playlists</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          
                          
                          <li><a class="" href="{{=URL('spons_playlist.html')}}">Sponsered</a></li>
                      </ul>
                  </li>
                  <li>
                      <a class="" href="{{=URL('widgets.html')}}">
                          <i class="icon_genius"></i>
                          <span>See All</span>
                      </a>
                  </li>
                  <li>                     
                      <a class="" href="{{=URL('radio.html')}}">
                          <i class="fa fa-music"></i>
                          <span>Radio</span>
                          
                      </a>
                                         
                  </li>
                             
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i class="icon_table"></i>
                          <span>Discover</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="{{=URL('default','pop.html')}}">Popular</a></li>
                          <li><a class="" href="{{=URL('default','fav.html')}}">Favourite</a></li>
                          <li><a class="" href="{{=URL('default','voted.html')}}">Most Voted</a></li>
                      </ul>
                  </li>
                  
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i class="icon_documents_alt"></i>
                          <span>My Profile</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">                          
                          <li><a class="" href="{{=URL('default','user/profile')}}">Profile</a></li>
                      </ul>
                  </li>
                  
              </ul>
              <!-- sidebar menu end-->
          </div>
      </aside>
      <!--sidebar end-->
      
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">            
              <!--overview start-->
              <!--
           <div class="row">
        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><a href="">
          <div class="info-box blue-bg boxes">
            <i class="fa fa-music"></i>
            <div class="count">New</div>
            <div class="title">Albums</div>
          </div>
        </div>
        </a>
        
        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><a href="">
          <div class="info-box brown-bg boxes">
            <i class="fa fa-upload"></i>
            <div class="count">My</div>
            <div class="title">Uploads</div>            
          </div>
        </div>
        </a>
        
        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><a href="">
          <div class="info-box dark-bg boxes">
            <i class="fa fa-thumbs-o-up"></i>
            <div class="count">Most</div>
            <div class="title">Rated</div>            
          </div>
        </div>
        </a>
        
        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><a href="">
          <div class="info-box green-bg boxes">
            <i class="fa fa-play-circle-o"></i>
            <div class="count">Live</div>
            <div class="title">Radio</div>            
          </div>
        </div>
        </a>
        
      </div>
        -->
<h1>{{=song.title}}
</h1>
<h2>
{{if song.category=='Audio':}}
<!--<audio controls><div width="50%">
                <source src={{#=song.url}} type="audio/mpeg">
                {{#print song.url}}
                Your browser does not support the audio tag.</div>
            </audio>  -->
    <div id="1">
    {{import soundcloud}}
    {{client = soundcloud.Client(client_id='f4e257503f0990527a6e17e14158076e')}}
    {{url=song.url}}
    {{try:}}
    {{embed_info = client.get('/oembed', url=url)}}
    {{except:}}
    {{redirect(URL('default','no_net'))}}
    {{pass}}
    {{=XML(embed_info.html)}}
    </div>
{{else:}}
<div id="player" class = "col-xs-8"></div>

    <script>
      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '390',
          width: '640',
          videoId: '{{=song.url}}',
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        event.target.playVideo();
      }

      // 5. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      //    the player should play for six seconds and then stop.
      var done = false;
      function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
          //setTimeout(stopVideo, 6000);
          done = true;
        }
      }
      function stopVideo() {
        player.stopVideo();
      }
    </script>
{{pass}}
Views : <strong>{{=views}}</strong><br><br>
<fieldset class="rating">
    <legend>Please rate:</legend>
    <input type="radio" id="star5" name="rating" value="5" /><label for="star5" title="Rocks!">5 stars</label>
    <input type="radio" id="star4" name="rating" value="4" /><label for="star4" title="Pretty good">4 stars</label>
    <input type="radio" id="star3" name="rating" value="3" /><label for="star3" title="Ok Ok">3 stars</label>
    <input type="radio" id="star2" name="rating" value="2" /><label for="star2" title="Kinda bad">2 stars</label>
    <input type="radio" id="star1" name="rating" value="1" /><label for="star1" title="Sucks big time">1 star</label>
</fieldset>

<div style="padding-top:10%;">
{{=A('Click here ', _href=URL('mark_favourite',args=song.id))}}&nbsp;to Mark it as favourite</div>
</h2>
<div class="col-xs-6">
<h3>
Likes <span id="likes"><strong>{{=Likes}}</strong></span>
<button type="button" class="btn btn-warning" onclick="ajax('{{=URL('vote',args=(song.id))}}',[],'likes')">
  Like
</button>
</h3>
{{for comment in comments:}}
<br>
<strong>{{=comment.created_by.first_name}}</strong> said <i>{{#prettydate(comment.created_on)}}</i><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{=comment.body}}
{{pass}}
<h4>
{{=formcmnt}}
</h4>


              <!-- project team & activity start -->
          
              <!-- project team & activity end -->
</div>
          </section>
      </section>
      <!--main content end-->
  </section>











  <!-- container section start -->

    <!-- javascripts -->
        <!-- javascripts -->
    <script src="{{=URL('static','js/jquery.js')}}"></script>
  <script src="{{=URL('static','js/jquery-ui-1.10.4.min.js')}}"></script>
    <script src="{{=URL('static','js/jquery-1.8.3.min.js')}}"></script>
    <script type="text/javascript" src="{{=URL('static','js/jquery-ui-1.9.2.custom.min.js')}}"></script>
    <script type="text/javascript" src="{{=URL('static','js/bootbox.js')}}"></script>
    <!-- bootstrap -->
    <script src="{{=URL('static','js/bootstrap.min.js')}}"></script>
    <!-- nice scroll -->
    <script src="{{=URL('static','js/jquery.scrollTo.min.js')}}"></script>
    <script src="{{=URL('static','js/jquery.nicescroll.js')}}" type="text/javascript"></script>
    <!-- charts scripts -->
    <script src="{{=URL('static','js/jquery.sparkline.js')}}" type="text/javascript"></script>
  <script src="{{=URL('static','js/jquery.rateit.min.js')}}"></script>
    <!-- custom select -->
    <script src="{{=URL('static','js/jquery.customSelect.min.js')}}" ></script>
    <!--custome script for all page-->
    <script src="{{=URL('static','js/scripts.js')}}"></script>
    <!-- custom script for this page-->
    <script src="{{=URL('static','js/sparkline-chart.js')}}"></script>
  <script src="{{=URL('static','js/jquery-jvectormap-1.2.2.min.js')}}"></script>
  <script src="{{=URL('static','js/jquery-jvectormap-world-mill-en.js')}}"></script>
  <script src="{{=URL('static','js/xcharts.min.js')}}"></script>
  <script src="{{=URL('static','js/jquery.autosize.min.js')}}"></script>
  <script src="{{=URL('static','js/jquery.placeholder.min.js')}}"></script>
  <script src="{{=URL('static','js/gdp-data.js')}}"></script> 
  <script src="{{=URL('static','js/morris.min.js')}}"></script>
  <script src="{{=URL('static','js/sparklines.js')}}"></script> 
  <script src="{{=URL('static','js/charts.js')}}"></script>
  <script src="{{=URL('static','js/jquery.slimscroll.min.js')}}"></script>
  
  </body>
</html>